/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  Dio.c
 *        \brief  
 *
 *      \details  
 *
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Std_Types.h"
#include "DIO.h"
#include "DIO_Regs.h"
#include "DIO_Types.h"
#include "Platform_Types.h"
#include "BIT_MATH.h"
/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/


/******************************************************************************
* \Syntax          : Std_ReturnType FunctionName(AnyType parameterName)        
* \Description     : Describe this service                                    
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : parameterName   Parameter Describtion                     
* \Parameters (out): None                                                      
* \Return value:   : Std_ReturnType  E_OK
*                                    E_NOT_OK                                  
*******************************************************************************/
Dio_LevelType Dio_ReadChannel(Dio_ChannelType ChannelId)
{
    uint8 PortNum = ChannelId / 8 ;
    uint8 PinNum =  ChannelId % 8 ; 
	
	return ( GET_BIT(GPIODATA(PortNum), PinNum) );
}

void Dio_WriteChannel(Dio_ChannelType ChannelId, Dio_LevelType Level)
{
    uint8 PortNum = ChannelId / 8 ;
    uint8 PinNum =  ChannelId % 8 ; 
	if (Level == STD_HIGH)
	    SET_BIT(GPIODATA(PortNum), PinNum); 
    
    else if (Level == STD_LOW)
        CLR_BIT(GPIODATA(PortNum), PinNum); 
    else 
		{
        /* Do nothing */
		}
}

Dio_PortLevelType Dio_ReadPort(Dio_PortType PortId)
{
    return (GPIODATA(PortId));
}

void Dio_WritePort (Dio_PortType PortId, Dio_PortLevelType Level)
{
    GPIODATA(PortId) = Level;
}

Dio_LevelType Dio_FlipChannel(Dio_ChannelType ChannelId)
{
    uint8 PortNum = ChannelId / 8 ;
    uint8 PinNum =  ChannelId % 8 ; 

	TOG_BIT(GPIODATA(PortNum), PinNum);

    return ( GET_BIT(GPIODATA(PortNum), PinNum) ); /* return the new value in the bit after toggling */
}
/**********************************************************************************************************************
 *  END OF FILE: Dio.c
 *********************************************************************************************************************/
